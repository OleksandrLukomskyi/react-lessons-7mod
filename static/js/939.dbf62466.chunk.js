"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[939],{4453:function(t,e,n){n.d(e,{Z:function(){return o},_:function(){return u}});var r=n(5861),c=n(7757),a=n.n(c),s=n(5294).Z.create({baseURL:"https://dummyjson.com/"}),u=function(){var t=(0,r.Z)(a().mark((function t(e){var n,r;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s("products/".concat(e));case 2:return n=t.sent,r=n.data,t.abrupt("return",r);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),o=function(){var t=(0,r.Z)(a().mark((function t(e,n,r){var c,u,o;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=r?"products/search?limit=".concat(n,"&skip=").concat(e,"&q=").concat(r):"products?limit=".concat(n,"&skip=").concat(e),t.next=3,s(c);case 3:return u=t.sent,o=u.data,t.abrupt("return",o);case 6:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},4939:function(t,e,n){n.r(e),n.d(e,{default:function(){return x}});var r=n(3433),c=n(5861),a=n(9439),s=n(7757),u=n.n(s),o=n(2791),i=n(1087),l=n(3329),p=function(){var t=(0,o.useState)(""),e=(0,a.Z)(t,2),n=e[0],r=e[1],c=(0,i.lr)(),s=(0,a.Z)(c,2),u=s[0],p=s[1];return(0,o.useEffect)((function(){!n&&r(u.get("search"))}),[u,n]),(0,l.jsxs)("form",{onSubmit:function(t){t.preventDefault(),p({search:n})},children:[(0,l.jsxs)("div",{className:"mb-3",children:[(0,l.jsx)("label",{htmlFor:"exampleInputSearch",className:"form-label",children:"Title"}),(0,l.jsx)("input",{name:"search",type:"text",className:"form-control",id:"exampleInputSearch",value:n||"",onChange:function(t){var e=t.target.value;r(e)}})]}),(0,l.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Search"})]})},d=n(7689),h=function(t){var e=t.product,n=(0,d.TH)();return(0,l.jsx)(i.rU,{to:"".concat(e.id),state:n,children:(0,l.jsx)("div",{className:"container",children:(0,l.jsxs)("div",{className:"card p-2",children:[(0,l.jsx)("p",{children:e.title}),(0,l.jsxs)("p",{children:[e.price," $"]})]})})})},f=function(t){var e=t.products,n=t.handleLoadMore,r=t.isShowBtn;return(0,l.jsxs)(l.Fragment,{children:[e.map((function(t){return(0,l.jsx)(h,{product:t},t.id)})),r&&(0,l.jsx)("button",{className:"btn btn-secondary mt-5 mx-5",onClick:n,children:"load more"})]})},m=n(4453),x=function(){var t=(0,o.useState)(null),e=(0,a.Z)(t,2),n=e[0],s=e[1],d=(0,o.useState)(!1),h=(0,a.Z)(d,2),x=h[0],v=h[1],j=(0,o.useState)(""),b=(0,a.Z)(j,2),Z=b[0],k=b[1],w=(0,o.useState)(1),S=(0,a.Z)(w,2),g=S[0],y=S[1],N=(0,o.useState)(!1),C=(0,a.Z)(N,2),_=C[0],F=C[1],L=(0,i.lr)(),B=(0,a.Z)(L,1)[0],E=(0,o.useCallback)(function(){var t=(0,c.Z)(u().mark((function t(e){var n;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,v(!0),F(!1),k(""),t.next=6,(0,m.Z)(10*g-10,10,e);case 6:n=t.sent,s((function(t){return t&&!e?[].concat((0,r.Z)(t),(0,r.Z)(n.products)):n.products})),n.products.length<n.total&&F(!0),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),k(t.t0.message);case 14:return t.prev=14,v(!1),t.finish(14);case 17:case"end":return t.stop()}}),t,null,[[0,11,14,17]])})));return function(e){return t.apply(this,arguments)}}(),[g]);(0,o.useEffect)((function(){var t=B.get("search");E(t),t&&y(1)}),[E,B]);return(0,l.jsxs)(l.Fragment,{children:[x&&(0,l.jsx)("h1",{children:"loading..."}),Z&&(0,l.jsx)("h1",{children:Z}),(0,l.jsx)(p,{}),n&&(0,l.jsx)(f,{handleLoadMore:function(){y((function(t){return t+1}))},products:n,isShowBtn:_})]})}}}]);
//# sourceMappingURL=939.dbf62466.chunk.js.map